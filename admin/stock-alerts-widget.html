<!-- Stock Alerts Widget for Admin Dashboard -->
<!-- Add this to your admin panel dashboard section -->

<div class="dashboard-widget">
    <div class="widget-header">
        <h3><i class="fas fa-exclamation-triangle"></i> Stock Alerts</h3>
        <button class="btn-small btn-secondary" onclick="window.adminPanel.loadStockAlerts()">
            <i class="fas fa-refresh"></i> Refresh
        </button>
    </div>
    <div id="stockAlerts" class="widget-content">
        <div class="loading">Loading stock alerts...</div>
    </div>
</div>

<!-- Enhanced Product Management Filters -->
<!-- Add this to your products section -->

<div class="filters-section">
    <div class="filter-group">
        <label for="productSearch">Search Products:</label>
        <input type="text" id="productSearch" placeholder="Search by name, category..." class="form-control">
    </div>
    
    <div class="filter-group">
        <label for="categoryFilter">Category:</label>
        <select id="categoryFilter" class="form-control">
            <option value="">All Categories</option>
            <option value="silk">Silk</option>
            <option value="cotton">Cotton</option>
            <option value="georgette">Georgette</option>
            <option value="chiffon">Chiffon</option>
            <option value="designer">Designer</option>
            <option value="wedding">Wedding</option>
        </select>
    </div>
    
    <div class="filter-group">
        <label for="stockFilter">Stock Status:</label>
        <select id="stockFilter" class="form-control">
            <option value="">All Stock Levels</option>
            <option value="in-stock">In Stock (>5)</option>
            <option value="low-stock">Low Stock (1-5)</option>
            <option value="out-of-stock">Out of Stock (0)</option>
        </select>
    </div>
</div>

<!-- Enhanced Products Table Header -->
<!-- Replace your existing table header with this -->

<table class="admin-table">
    <thead>
        <tr>
            <th>Image</th>
            <th>Product Name</th>
            <th>Category</th>
            <th>Price</th>
            <th>Stock <i class="fas fa-sort" onclick="sortProductsByStock()"></i></th>
            <th>Status</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody id="productsTableBody">
        <!-- Products will be loaded here -->
    </tbody>
</table>

<style>
/* Additional styles for the widgets */
.dashboard-widget {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    margin-bottom: 20px;
}

.widget-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 1px solid #eee;
}

.widget-header h3 {
    margin: 0;
    color: #333;
    font-size: 16px;
}

.widget-header i {
    margin-right: 8px;
    color: #ffc107;
}

.widget-content {
    padding: 20px;
}

.filters-section {
    display: flex;
    gap: 16px;
    margin-bottom: 20px;
    flex-wrap: wrap;
}

.filter-group {
    flex: 1;
    min-width: 200px;
}

.filter-group label {
    display: block;
    margin-bottom: 4px;
    font-weight: 500;
    color: #333;
}

.loading {
    text-align: center;
    padding: 20px;
    color: #666;
}

@media (max-width: 768px) {
    .filters-section {
        flex-direction: column;
    }
    
    .filter-group {
        min-width: auto;
    }
    
    .widget-header {
        flex-direction: column;
        gap: 12px;
        align-items: flex-start;
    }
}
</style>

<script>
// Additional JavaScript functions for enhanced functionality

function sortProductsByStock() {
    if (window.adminPanel && window.adminPanel.products) {
        const sorted = [...window.adminPanel.products].sort((a, b) => {
            return (b.stock || 0) - (a.stock || 0);
        });
        window.adminPanel.displayProducts(sorted);
    }
}

// Auto-refresh stock alerts every 5 minutes
setInterval(() => {
    if (window.adminPanel && window.adminPanel.loadStockAlerts) {
        window.adminPanel.loadStockAlerts();
    }
}, 5 * 60 * 1000);

// Keyboard shortcuts for admin panel
document.addEventListener('keydown', (e) => {
    // Ctrl+R to refresh products
    if (e.ctrlKey && e.key === 'r') {
        e.preventDefault();
        if (window.adminPanel && window.adminPanel.loadProducts) {
            window.adminPanel.loadProducts();
        }
    }
    
    // Ctrl+N to add new product
    if (e.ctrlKey && e.key === 'n') {
        e.preventDefault();
        if (window.adminPanel && window.adminPanel.openProductModal) {
            window.adminPanel.openProductModal();
        }
    }
});
</script>